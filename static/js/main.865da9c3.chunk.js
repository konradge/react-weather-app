(this["webpackJsonpreact-weather-app"]=this["webpackJsonpreact-weather-app"]||[]).push([[0],{19:function(e,t,a){},23:function(e,t,a){e.exports=a(47)},47:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),i=a(20),n=a.n(i),c=a(3),l=a(4),o=a(6),h=a(5),d=a(7),u=a(9),m=a.n(u),g=a(21),p=a(22),v=a.n(p).a.create({baseURL:"https://api.weatherstack.com"}),w=(a(19),function(e){function t(){var e,a;Object(c.a)(this,t);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={searchTerm:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){this.setState({searchTerm:e.target.value})}},{key:"keyPress",value:function(e){13===e.keyCode&&(this.props.getWeather(this.state.searchTerm),this.setState({searchTerm:""}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"widget search"},r.a.createElement("div",{className:"ui icon header"},r.a.createElement("i",{className:"search icon"}),"New City"),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui search"},r.a.createElement("div",{className:"ui icon input"},r.a.createElement("input",{className:"prompt",type:"text",placeholder:"Type in city name...",value:this.state.searchTerm,onChange:this.handleChange.bind(this),onKeyDown:this.keyPress.bind(this)}),r.a.createElement("i",{className:"search icon"})),r.a.createElement("div",null,this.props.message))))}}]),t}(r.a.Component)),f=a(8),b=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(h.a)(t).call(this,e))).state={weather:{},message:"",status:0},a.props.coordSearch&&a.getCoordinates(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getCoordinates",value:function(){var e=this;window.navigator.geolocation.getCurrentPosition((function(t){return e.getWeather(t.coords.latitude+","+t.coords.longitude)}),(function(t){return e.setState({status:0,message:t.message})}))}},{key:"getWeather",value:function(){var e=Object(g.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({message:"Loading data from weatherstack.com..."}),e.next=3,v.get("/current",{params:{query:t,access_key:"1d39218ef8304059bc20df0213b7a37e"}});case 3:(a=e.sent).data.error?(this.setState({status:0}),this.setState({message:a.data.error.info}),console.log(a.data.error.info)):(this.setState({weather:a.data,status:1}),this.props.addWidget&&!this.props.coordSearch&&this.props.addWidget());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(0===this.state.status)return r.a.createElement(w,{getWeather:this.getWeather.bind(this),message:this.state.message});var e="no"===this.state.weather.current.is_day?"widget darkmode relative":"widget lightmode relative",t=new Date(this.state.weather.location.localtime);return r.a.createElement("div",{className:e},r.a.createElement("div",{className:"ui header"},this.state.weather.location.name+", "+this.state.weather.location.country),r.a.createElement("div",{className:"time"},t.getHours()+":"+t.getMinutes()),r.a.createElement("div",{className:"weather-temp"},r.a.createElement("img",{src:this.state.weather.current.weather_icons[0],alt:this.state.weather.current.weather_descriptions[0]}),r.a.createElement("div",null,this.state.weather.current.temperature,"\xb0C")),r.a.createElement("div",{className:"humidity infos"},r.a.createElement(f.a,{size:30,className:"icon"}),r.a.createElement("div",{className:"data"},this.state.weather.current.humidity,r.a.createElement("div",{className:"small"},"%"))),r.a.createElement("div",{className:"infos"},r.a.createElement(f.c,{size:30,className:"icon"}),r.a.createElement("div",{className:"data"},this.state.weather.current.feelslike,r.a.createElement("div",{className:"small"},"\xb0C"))),r.a.createElement("div",{className:"infos"},r.a.createElement(f.b,{size:30,className:"icon"}),r.a.createElement("div",{className:"data"},this.state.weather.current.wind_speed,r.a.createElement("div",{className:"small"},"km/h"))))}}]),t}(r.a.Component),y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={widgets:[a.buildWidget(!0,"main"),a.buildWidget(!1)]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"buildWidget",value:function(e,t){return r.a.createElement(b,{addWidget:this.addWidget.bind(this),key:t||new Date,id:t||new Date,onDelete:this.deleteWidget.bind(this),coordSearch:e})}},{key:"addWidget",value:function(){this.state.widgets.push(this.buildWidget()),this.setState({widgets:this.state.widgets})}},{key:"deleteWidget",value:function(e){this.setState({widgets:this.state.widgets.filter((function(t){return t.props.id!==e}))})}},{key:"render",value:function(){var e=this.state.widgets.map((function(e){return e}));return r.a.createElement("div",null,e)}}]),t}(r.a.Component);n.a.render(r.a.createElement(y,null),document.querySelector("#root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.865da9c3.chunk.js.map