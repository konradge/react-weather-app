(this["webpackJsonpreact-weather-app"]=this["webpackJsonpreact-weather-app"]||[]).push([[0],{19:function(e,t,a){},24:function(e,t,a){e.exports=a(48)},48:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a.n(r),n=a(20),i=a.n(n),c=a(3),o=a(4),l=a(6),h=a(5),u=a(7),d=a(9),m=a.n(d),p=a(21),g=a(22),v=a(23),f=a.n(v).a.create({baseURL:"https://cors-anywhere.herokuapp.com/http://api.weatherstack.com",params:{}}),w={access_key:"ad1cb301e33bda6b58fe2b88916662ec"},b=(a(19),function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(a=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).state={searchTerm:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState({searchTerm:e.target.value})}},{key:"keyPress",value:function(e){13===e.keyCode&&(this.props.getWeather(this.state.searchTerm),this.setState({searchTerm:""}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"widget search"},s.a.createElement("div",{className:"ui icon header"},s.a.createElement("i",{className:"search icon"}),"New City"),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"ui search"},s.a.createElement("div",{className:"ui icon input"},s.a.createElement("input",{className:"prompt",type:"text",placeholder:"Type in city name...",value:this.state.searchTerm,onChange:this.handleChange.bind(this),onKeyDown:this.keyPress.bind(this)}),s.a.createElement("i",{className:"search icon"})),s.a.createElement("div",null,this.props.message))))}}]),t}(s.a.Component)),y=a(8);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={weather:{},message:"",status:0},a.props.coordSearch&&a.getCoordinates(),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getCoordinates",value:function(){var e=this;window.navigator.geolocation.getCurrentPosition((function(t){return e.getWeather(t.coords.latitude+","+t.coords.longitude)}),(function(t){return e.setState({status:0,message:t.message})}))}},{key:"getWeather",value:function(){var e=Object(g.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({message:"Loading data from weatherstack.com..."}),e.next=3,f.get("/current",{params:O({},w,{query:t})});case 3:(a=e.sent).data.error?(this.setState({status:0}),this.setState({message:a.data.error.info})):(this.setState({weather:a.data,status:1}),this.props.addWidget&&!this.props.coordSearch&&this.props.addWidget());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(0===this.state.status)return s.a.createElement(b,{getWeather:this.getWeather.bind(this),message:this.state.message});var t="no"===this.state.weather.current.is_day?"widget darkmode":"widget lightmode",a=new Date(this.state.weather.location.localtime);return s.a.createElement("div",{className:t},s.a.createElement("div",{className:"delete"},s.a.createElement("i",{className:"close icon",onClick:function(){return e.props.onDelete(e.props.id)}})),s.a.createElement("div",{className:"ui header location"},this.state.weather.location.name+", "+this.state.weather.location.country),s.a.createElement("div",{className:"body"},s.a.createElement("div",{className:"time"},a.getHours()+":"+(a.getMinutes()<10?"0":"")+a.getMinutes()),s.a.createElement("div",{className:"weather-temp"},s.a.createElement("img",{src:this.state.weather.current.weather_icons[0],alt:this.state.weather.current.weather_descriptions[0]}),s.a.createElement("div",null,this.state.weather.current.temperature,"\xb0C")),s.a.createElement("div",{className:"humidity infos"},s.a.createElement(y.a,{size:30,className:"icon"}),s.a.createElement("div",{className:"data"},this.state.weather.current.humidity,s.a.createElement("div",{className:"small"},"%"))),s.a.createElement("div",{className:"infos"},s.a.createElement(y.c,{size:30,className:"icon"}),s.a.createElement("div",{className:"data"},this.state.weather.current.feelslike,s.a.createElement("div",{className:"small"},"\xb0C"))),s.a.createElement("div",{className:"infos"},s.a.createElement(y.b,{size:30,className:"icon"}),s.a.createElement("div",{className:"data"},this.state.weather.current.wind_speed,s.a.createElement("div",{className:"small"},"km/h")))))}}]),t}(s.a.Component),j=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(a=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).state={widgets:[a.buildWidget(!0,"main"),a.buildWidget(!1)]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"buildWidget",value:function(e,t){return s.a.createElement(N,{addWidget:this.addWidget.bind(this),key:t||new Date,id:t||new Date,onDelete:this.deleteWidget.bind(this),coordSearch:e})}},{key:"addWidget",value:function(){this.state.widgets.push(this.buildWidget()),this.setState({widgets:this.state.widgets})}},{key:"deleteWidget",value:function(e){this.setState({widgets:this.state.widgets.filter((function(t){return t.props.id!==e}))})}},{key:"render",value:function(){var e=this.state.widgets.map((function(e){return e}));return s.a.createElement("div",null,e)}}]),t}(s.a.Component);i.a.render(s.a.createElement(j,null),document.querySelector("#root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.87f211c0.chunk.js.map